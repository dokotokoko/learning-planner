# 学習支援アシスタント

AIを活用した探究学習支援アプリケーションです。探究テーマから学習目標の設定、学習計画の作成までを対話形式でサポートします。

## 機能仕様

- **ユーザー管理**: シンプルなユーザー登録・ログイン機能により、ユーザー別に学習内容を管理します。
- **探究テーマの登録**: ユーザーが興味のある探究テーマを登録できます。
- **目標設定**: AIとの対話を通じて、探究テーマに基づいた具体的な学習目標を設定します。
- **学習内容の具体化**: AIとの対話により探究学習の内容を具体化し、実践可能な形に整理します。
- **ユーザーデータの永続化**: すべての学習記録がデータベースに保存され、いつでも続きから再開できます。

## 技術仕様

- **Streamlit**: Pythonベースのウェブアプリケーションフレームワーク
- **SQLite3**: 軽量データベースによるデータ永続化
- **OpenAI API**: GPT-4oモデルを使用した対話型学習支援
- **Python**: バックエンド処理とAI連携

## セットアップと起動方法

### 前提条件
- Python 3.9以上
- OpenAI APIキー

### インストール手順

1. リポジトリをクローンまたはダウンロードします。
```
git clone https://github.com/dokotokoko/learning-planner.git
cd learning-planner
```

2. 必要なパッケージをインストールします。
```
pip install -r requirements.txt
```

3. OpenAI APIキーを設定します。
   - `.streamlit`ディレクトリを作成し、その中に`secrets.toml`ファイルを作成します
   - 以下の内容を記述します（引用符内に自分のAPIキーを設定）
```toml
OPENAI_API_KEY = "sk-あなたのAPIキー"
```

### 起動方法

```
streamlit run app.py
```

アプリケーションはデフォルトで`http://localhost:8501`で起動します。

### データベース
- アプリケーション使用時に自動的にSQLiteデータベースが作成・更新されます
- データベースファイル: `learning_assistant.db`
- テーブル構成:
  - `users`: ユーザー情報を保存
  - `interests`: ユーザーの探究テーマを保存
  - `goals`: 学習目標を保存
  - `learning_plans`: 学習計画を保存

## 使用方法

1. **ログイン/登録**:
   - 既存ユーザーの場合は、ユーザー名とアクセスコードでログイン
   - 新規ユーザーの場合は、「新規ユーザー登録」タブからアカウントを作成

2. **探究テーマの登録（ステップ1）**:
   - 探究学習のテーマを入力します
   - 「次へ」ボタンをクリックして続行します

3. **目標設定（ステップ2）**:
   - AIとの3回の対話を通じて学習目標を具体化します
   - 対話完了後、最終的な学習目標を整理して保存します
   - 「次へ」ボタンをクリックして次のステップに進みます

4. **学習内容の具体化（ステップ3）**:
   - AIとの対話を通じて探究学習の内容を具体化します
   - 対話完了後、活動内容を整理して保存します

## デプロイ方法

Streamlit Cloudでデプロイする場合：

1. GitHubリポジトリにコードをプッシュします
2. Streamlit Cloudにログインし、リポジトリを連携します
3. デプロイ設定で以下を指定します:
   - メインファイル: `app.py`
   - Python バージョン: 3.9以上
4. シークレット設定で以下のTOML形式でAPIキーを設定します:
```toml
OPENAI_API_KEY = "sk-あなたのAPIキー"
```

## エラー対応

- **OpenAI APIキーエラー**: `.streamlit/secrets.toml`ファイルのAPIキーが正しく設定されているか確認してください
- **データベースエラー**: アプリケーションディレクトリの書き込み権限を確認してください
- **ユーザー認証エラー**: ユーザー名とアクセスコードが正しいか確認してください

## ファイル構成

- `app.py`: メインアプリケーションファイル
- `requirements.txt`: 必要なPythonパッケージの一覧
- `.streamlit/secrets.toml`: APIキーなどの機密情報（Gitリポジトリには含めないこと）
- `learning_assistant.db`: SQLiteデータベースファイル

## .gitignore 推奨設定

以下のファイルはGitリポジトリに含めないことをお勧めします：

```
# Streamlit関連
.streamlit/secrets.toml

# データベース
*.db
*.sqlite

# 環境変数
.env

# Python関連
__pycache__/
*.py[cod]
venv/
```

## ライセンス

MIT 